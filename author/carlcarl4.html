<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>carlcarl's blog - carlcarl</title>
        <link rel="stylesheet" href="http://blog.carlcarl.me/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.carlcarl.me/">carlcarl's blog </a></h1>
                <nav><ul>
                </ul></nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="9">
            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/893/brew-install-macvim/" rel="bookmark"
                           title="Permalink to brew install Macvim">brew install Macvim</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-06-07T19:56:00">
                五 07 6月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/mac-vim.html">Mac, vim</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/brew.html">brew</a><a href="http://blog.carlcarl.me/tag/macvim.html">macvim</a></p>
</footer><!-- /.post-info -->                <p>單純小筆記一下，因為每次重裝都會忘記 XDD，放在自己 blog，以後比較好查。</p>
<!--more-->

<p>如果只單純下 <code>brew install macvim</code> 的話，原本的 vim 還是會留著，如果想用
Macvim 裡的 vim 的話，你可能會想說移掉原本的 vim，然後用 <code>ln -s</code>，來建個
link 就好，不過實際做是不行的，會出現一些
error，如：<code>E254: Cannot allocate color</code>，解決方法很簡單，就是下：</p>
<div class="highlight"><pre>brew install macvim --override-system-vim
brew linkapps
</pre></div>


<p>這樣就會把原本的 vim 幹掉，直接套用 Macvim 裡的。</p>
<p>參考網址 ...</p></!--more-->
                <a class="readmore" href="http://blog.carlcarl.me/893/brew-install-macvim/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/893/brew-install-macvim/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/879/ubuntu-nginx-pagespeed-module/" rel="bookmark"
                           title="Permalink to Ubuntu nginx pagespeed module">Ubuntu nginx pagespeed module</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-06-03T21:25:00">
                一 03 6月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/linux.html">linux</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/nginx.html">nginx</a><a href="http://blog.carlcarl.me/tag/pagespeed.html">pagespeed</a><a href="http://blog.carlcarl.me/tag/ubuntu.html">ubuntu</a></p>
</footer><!-- /.post-info -->                <p>Ubuntu 版本：12.04 Nginx 版本：1.4.1 pagespeed 版本：1.5.27.3
記錄一下安裝的步驟： <!--more--></p>
<div class="highlight"><pre><span class="c"># 到 home 目錄下做，看個人習慣就是</span>
<span class="nb">cd</span> ~
<span class="c"># add-apt-repository 這個指令需要裝 python-software-properties</span>
sudo apt-get install python-software-properties
sudo add-apt-repository ppa:nginx/stable
sudo apt-get update
<span class="c"># 下載 nginx source code</span>
sudo apt-get <span class="nb">source </span>nginx
<span class="c"># 裝 build nginx 需要的套件</span>
sudo apt-get ...</pre></div>
                <a class="readmore" href="http://blog.carlcarl.me/879/ubuntu-nginx-pagespeed-module/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/879/ubuntu-nginx-pagespeed-module/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/873/ubuntu-service-cant-restart-or-stop/" rel="bookmark"
                           title="Permalink to Ubuntu service can't restart or stop">Ubuntu service can't restart or stop</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-06-03T11:48:00">
                一 03 6月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/linux.html">linux</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/nginx.html">nginx</a><a href="http://blog.carlcarl.me/tag/ubuntu.html">ubuntu</a></p>
</footer><!-- /.post-info -->                <p>在自己編 nginx 的時候遇到的小問題，因為自己裝的 conf 設定和原本 Ubuntu
repo 裡的的不一樣，然後 init script 我是用 repo 裡提供的。</p>
<p>看了一下 repo 提供的 init script，似乎是因為找不到 start service 所建立的
pid 檔案，google 了一下，在 stackoverflow
找到 <a href="http://stackoverflow.com/questions/10939072/add-nginx-as-a-ubuntu-service-stop-and-reload-doesnt-work">這篇問題</a> 剛好和我遇到的情況一樣，check 了一下 nginx conf 裡的 pid
檔案位置和 init script 裡的 pid
檔案位置，發現設定並不一樣，改成一樣後，問題就解決了～～。</p>
                <a class="readmore" href="http://blog.carlcarl.me/873/ubuntu-service-cant-restart-or-stop/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/873/ubuntu-service-cant-restart-or-stop/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/865/python-decorate-method-inside-class/" rel="bookmark"
                           title="Permalink to Python decorate method inside class">Python decorate method inside class</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-06-02T04:45:00">
                日 02 6月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/python.html">python</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/class.html">class</a><a href="http://blog.carlcarl.me/tag/decorate.html">decorate</a><a href="http://blog.carlcarl.me/tag/python.html">python</a></p>
</footer><!-- /.post-info -->                <p>簡易版的可以直接參考
<a href="http://stackoverflow.com/questions/1367514/how-to-decorate-a-method-inside-a-class">http://stackoverflow.com/questions/1367514/how-to-decorate-a-method-inside-a-class</a>。<br />
<!--more--><br />
以我的例子來說，我需要對某些 method 加上 retry
的機制，除了需要有參數外，還希望能夠把 decorate method 放在 class
裡頭，這樣我才能呼叫 class 裡頭另外的 method。以下是簡單的例子：</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Test</span><span class="p">():</span>

    <span class="k">def</span> <span class="nf">retry</span><span class="p">(</span><span class="n">tries</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">deco_retry</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
            <span class="c"># f is the method decorated</span>
            <span class="k">def</span> <span class="nf">f_retry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs ...</span></pre></div>
                <a class="readmore" href="http://blog.carlcarl.me/865/python-decorate-method-inside-class/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/865/python-decorate-method-inside-class/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/852/python-cant-use-a-string-pattern-on-a-bytes-like-object/" rel="bookmark"
                           title="Permalink to Python: can't use a string pattern on a bytes-like object">Python: can't use a string pattern on a bytes-like object</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-05-23T16:25:00">
                四 23 5月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/python.html">python</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/encode.html">encode</a><a href="http://blog.carlcarl.me/tag/httplib.html">httplib</a><a href="http://blog.carlcarl.me/tag/json.html">json</a><a href="http://blog.carlcarl.me/tag/python.html">python</a><a href="http://blog.carlcarl.me/tag/python2.html">python2</a><a href="http://blog.carlcarl.me/tag/python3.html">python3</a></p>
</footer><!-- /.post-info -->                <p>最近嘗試將 Python2 的程式轉成
Python3，看起來好像很順利，不過在執行的時候就出現了 Excepion
囧，內容就是
<code>can't use a string pattern on a bytes-like object</code>，看了一下，是 <code>json</code>
的 <code>loads</code> 在轉<code>httplib</code> <code>read</code> 的 output 出現問題，而原來在 Python2
中並不會出現這個問題，原來程式如下：<br />
<!--more--></p>
<div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>


<p>後來查了一下資料才發現，這邊的 <code>read</code>，似乎讀出的資料是 <code>byte</code> 的
type，還需要做 encode ...</p>
                <a class="readmore" href="http://blog.carlcarl.me/852/python-cant-use-a-string-pattern-on-a-bytes-like-object/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/852/python-cant-use-a-string-pattern-on-a-bytes-like-object/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/838/linux-kernel-space-get-time-interval/" rel="bookmark"
                           title="Permalink to Linux kernel space get time interval">Linux kernel space get time interval</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-04-27T00:23:00">
                六 27 4月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/c-c-linux.html">C &amp; C++, linux</a>. </p>

</footer><!-- /.post-info -->                <p>之前聽到可以用 <code>jiffies</code>
來抓時間，可是我自己測的結果是前後抓的時間會都一樣囧。查了一下
stackoverflow，也有<a href="http://stackoverflow.com/questions/4655711/measuring-execution-time-of-a-function-inside-linux-kernel">一個遇到一樣的問題</a>，我猜可能 <code>jiffies</code> 也是用
period update 的方式做更新，由於中間測量的 function
太快，導致來不及更新就拿到了一樣的值這樣。而在下面的回答中看到可以用
<code>do_gettimeofday()</code> 來抓時間區間，簡單範例如下：<br />
<!--more--></p>
<div class="highlight"><pre><span class="cp">#include &lt;linux/time.h&gt;</span>
<span class="c1">// ...</span>
<span class="k">struct</span> <span class="n">timeval</span> <span class="n">begin</span><span class="p">,</span> <span class="n">end</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">val</span><span class="p">;</span>

<span class="n">do_gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">begin</span><span class="p">);</span>
<span class="c1">// Do something here</span>
<span class="n">do_gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">end</span><span class="p">);</span>

<span class="c1">// Get milliseconds </span>
<span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span><span class="p">.</span><span class="n">tv_sec</span> <span class="o">-</span> <span class="n">begin</span><span class="p">.</span><span class="n">tv_sec</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">val</span> <span class="o">+=</span> <span class="p">((</span><span class="n">end ...</span></pre></div>
                <a class="readmore" href="http://blog.carlcarl.me/838/linux-kernel-space-get-time-interval/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/838/linux-kernel-space-get-time-interval/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/835/popen-check-empty/" rel="bookmark"
                           title="Permalink to popen check empty">popen check empty</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-04-26T20:31:00">
                五 26 4月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/c-c.html">C &amp; C++</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/popen.html">popen</a></p>
</footer><!-- /.post-info -->                <p>最近常在用 <code>popen</code> 呼叫系統指令，並讀取執行的結果作判斷，而有時候會有想確認內容是否會為空的需求，因為 popen return 的是一個 file descriptor，本來想說能不能用 <code>ftell</code>
找出大小來做判斷，不過<a href="http://stackoverflow.com/questions/7705338/ftell-function-giving-1-in-c-for-stdout">後來證明不行</a>，pipe 跟一般的檔案還是有差別。</p>
<p>找了一堆資料，後來只想到用 <code>fgetc</code> 來讀，再用讀不讀得到值作為判斷 orz，不知道有沒有其他更好的解法就是。</p>
                <a class="readmore" href="http://blog.carlcarl.me/835/popen-check-empty/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/835/popen-check-empty/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/827/appfog-deploy-pyramid/" rel="bookmark"
                           title="Permalink to appfog deploy pyramid">appfog deploy pyramid</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-04-14T23:45:00">
                日 14 4月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/cloud-python.html">cloud, python</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/appfog.html">appfog</a><a href="http://blog.carlcarl.me/tag/pyramid.html">pyramid</a><a href="http://blog.carlcarl.me/tag/python.html">python</a></p>
</footer><!-- /.post-info -->                <p>這篇是參考
<a href="http://antoineleclair.ca/2012/08/28/deploying-a-pyramid-app-on-appfog/">http://antoineleclair.ca/2012/08/28/deploying-a-pyramid-app-on-appfog/</a>
這篇所講的，其實他講的就差不多了，但是漏掉了一些細節，所以幫忙補完一下。<br />
<!--more--><br />
<a href="https://www.appfog.com/">appfog</a> 的 deploy 相對 <a href="https://www.openshift.com/">openshift</a> 來說，算是簡單很多 (不過
openshift 也有一堆 quickstart 的 github repo 可以直接用就是)，以
<a href="http://www.pylonsproject.org/">pyramid</a> 來講，主要就是在 project 根目錄新增一個 <code>wsgi.py</code>
的檔案，內容引用文章連結內的程式：</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">paste.deploy</span> <span class="kn">import</span> <span class="n">loadapp</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;python setup.py develop ...</span></pre></div>
                <a class="readmore" href="http://blog.carlcarl.me/827/appfog-deploy-pyramid/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/827/appfog-deploy-pyramid/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/819/python-pyramid-jsonp/" rel="bookmark"
                           title="Permalink to Python Pyramid jsonp">Python Pyramid jsonp</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-04-09T13:35:00">
                二 09 4月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/python.html">python</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/jsonp.html">jsonp</a><a href="http://blog.carlcarl.me/tag/pyramid.html">pyramid</a></p>
</footer><!-- /.post-info -->                <p>Python 的 Pyramid Framework 有支援 jsonp 的 renderer，看了一下
doc，設置還算簡單，不過好像漏了個小地方。<br />
<!--more--><br />
首先要先在 <code>Configurator</code> 的檔案加入下面內容 (官方 doc 裡面沒提到要從哪邊
 <code>import JSONP</code>)：</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.renderers</span> <span class="kn">import</span> <span class="n">JSONP</span>
<span class="c"># 這裡使用 &#39;callback&#39; 當作預設的 callback function 名稱</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_renderer</span><span class="p">(</span><span class="s">&#39;jsonp&#39;</span><span class="p">,</span> <span class="n">JSONP</span><span class="p">(</span><span class="n">param_name</span><span class="o">=</span><span class="s">&#39;callback&#39;</span><span class="p">))</span>
</pre></div>


<p>然後在 view 裡面將 <code>renderer</code> 改用 <code>jsonp</code>，這邊你還是可以加上 <code>route_name</code>
等參數：</p>
<div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&#39;jsonp&#39;</span><span class="p">)</span>
</pre></div>


<p>這樣就完成了 ...</p>
                <a class="readmore" href="http://blog.carlcarl.me/819/python-pyramid-jsonp/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/819/python-pyramid-jsonp/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.carlcarl.me/813/ajax-with-mobile-keyboard-go-button/" rel="bookmark"
                           title="Permalink to ajax with mobile keyboard go button">ajax with mobile keyboard go button</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-04-07T22:58:00">
                日 07 4月 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.carlcarl.me/author/carlcarl.html">carlcarl</a>
        </address>
<p>In <a href="http://blog.carlcarl.me/category/js.html">js</a>. </p>
<p>tags: <a href="http://blog.carlcarl.me/tag/ajax.html">ajax</a><a href="http://blog.carlcarl.me/tag/mobile.html">mobile</a></p>
</footer><!-- /.post-info -->                <p>最近弄 ajax 在手機上測的時候發現按 keyboard 上的 go 按鈕不會自動
submit，所以看了一下是怎麼回事。找了一些資料加上自己測試了一下，發現原來
go 按鈕跟 enter 是一樣的 event。</p>
<p>我最後決定的做法是將原本 ajax 要 submit 的 部分先用 form tag
包起來，ajax 的按鈕則改成 <code>&lt;button type="submit"&gt;&lt;/button&gt;</code>，<code>type</code> 用
<code>submit</code> 可以使得在按 enter 或是 手機上按 go 的時候能 trigger submit 的
event，這邊用 <code>&lt;input&gt;</code> 也是可以，不過因為我有用一些 icon 在按鈕中 ...</p>
                <a class="readmore" href="http://blog.carlcarl.me/813/ajax-with-mobile-keyboard-go-button/">read more</a>
<p>There are <a href="http://blog.carlcarl.me/813/ajax-with-mobile-keyboard-go-button/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="http://blog.carlcarl.me/author/carlcarl3.html">&laquo;</a>
    Page 4 / 16
        <a href="http://blog.carlcarl.me/author/carlcarl5.html">&raquo;</a>
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'carlcarl';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>